# SQLの実行順序

## ▼SQLの実行順序とは
>・DBがSQLを実行する際は、上から（SELECT句）ではなく実行順序がある<br>
<br>

### ●実行順序
```
FROM句
　　　↓
ON句
　　　↓
JOIN句
　　　↓
WHERE句
　　　↓
GROUP BY句
　　　↓
HAVING句
　　　↓
SELECT句
　　　↓
DISTINCT句
　　　↓
ORDER BY句
　　　↓
TOP句（LIMIT）
```
<br>

#### ○この実行順からわかること
>・GROUP BY句よりもWHERE句の方が先に実行される<br>
>>　→WHERE句の時点ではまだグループ化がされていない<br>
>>　　→WHERE句ではSUM関数やCOUNT関数といった、集約関数が使用できない<br>
>>　　　（※集約関数・・・`グループ化されたデータ`に対して処理をかけ、一つに値をまとめる関数）<br>
<br>

>・WHERE句の時点ではSELECT句が実行されていない<br>
>>　→ASによる別名が未宣言状態のため、使用することができない<br>
>>　（ORDER BY句はSELECT句の後に十個されるため、AS句の利用が可能)<br>
>>　(※DB製品によってはWHERE句でも使用可能)<br>
<br>

>・LIMIT句は最後に実行される<br>
>>　→LIMIT句によりレコードの絞り込みをしても、処理時間が短くなることはない<br>
>> (ORDER BY句でインデックスが貼られたカラムを指定していた場合、全レコードをソートせずに先頭のnレコード分を取り出してくれるため、処理時間が早くなることもある)
<br>

