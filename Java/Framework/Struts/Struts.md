# Struts

## ▼Strutsとは
>・Apacheソフトウェア財団が提供している、MVCモデルを採用した、Webアプリケーションを作成するためのオープンソースのフレームワーク<br>
>・2000年にリリース<br>
<br>

### ●特徴
#### ①遷移先などの処理を設定ファイル(struts-config.xml)で管理<br>
>・リスエストに対応する処理を設定ファイル（struts-config.xml）で管理しており、遷移先や実行処理を修正する際はstruts-config.xmlを修正すれば良い<br>
>>　→struts-config.xmlの内容が理解できれば、どの画面に遷移するか、どの処理が実行されるがとても簡単に理解できるようになる<br>
<br>

>・JSPファイルと設定ファイルの関係性<br>
|  JSPファイル  |  <form>タグのアクション属性にAction名を定義  |
| 設定ファイル(struts-config.xml) | リクエスト時に<action>エレメントのpath属性と一致するアクションを実行 |
<br>
<img width="611" alt="スクリーンショット 2023-04-01 11 34 03" src="https://user-images.githubusercontent.com/81621944/229261783-26cf58a3-9411-4fce-b443-80d5ee7a27ef.png"><br>
<br>
  
####　②validationの提供
>・入力データの必須チェックや文字列チェックの処理などのvalidationの機能が提供されており、入力チェック用プログラムを実装する手間が省ける<br>
>>メッセージ・リソースファイルを用いてエラーの際に表示するメッセージを設定することで実装が可能となる<br>
<br>
  
####　③タグライブラリの提供
>・`<logic>`タグや、`<bean>`タグなど独自のタグライブラリが用意されており、JSPの可読性・保守性が向上<br>
<br>
  
#### ④二度押し防止機能（トークンチェック）の提供
>・同じ処理が複数回実行されることを防止するため、トランザクショントークンを用いたトークンチェックの昨日が提供されている<br>
>>ブラウザから送信されたトークンとsessionスコープに買うのうされたトークンを比較することで処理を継続すべきか判定することができ、同じサブミットボタンんを二重クリックした場合や、戻るボタンを利用した不正な画面遷移の場合にエラーとすることが可能<br>
<br>

#### ⑤例外処理機能の提供
>例外発生時に`truts-config.xml`の`<global-exceptions>`タグを用いて、例外が発生した際の処理を定義可能<br>
>>　標準のエラー画面(404エラーなど)が表示されることなく例外処理のハンドリングをすることが可能<br>
<br>

#### ⑥その他
>・ログ出力機能（Commons-Loggingを利用）<br>
>・国際化対応　など<br>
<br>

###　●処理の流れ
<img width="789" alt="スクリーンショット 2023-04-01 11 44 15" src="https://user-images.githubusercontent.com/81621944/229262115-fdf933d1-3108-4819-9034-8a698d356801.png"><br>
<br>

>①クライアントからのリクエストを送信<br>
>②アクションサーブレットが設定ファイルを元に実行する処理を特定<br>
>③クライアントから送信された情報をアクションフォームに設定<br>
>④アクションクラスの実行<br>
>⑤アクションクラスの実行結果をもとに遷移先を決定<br>

