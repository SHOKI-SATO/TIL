# fetch→mergeとpull

## ▼fetch→mergeとは
#### ●fetchとは
```
git fetch リモート名　ブランチ名
```

>・ローカルリポジトリのリモート追跡ブランチ（remotes/リモート名/ブランチ名)に反映される<br>
>　（ `remotes/origin/master`等のブランチに反映される、ワークツリーには反映されていない）<br>
>・ワークツリーに反映させる場合には、`git merge`が必要<br>
<br>

#### ●mergeとは
```
git merge リモート名　ブランチ名
```

>・`git fetch`で取得したリモートリポジトリとの　内容をワークツリーに取り込む<br>
>　（ワークツリーには反映されていない）<br>
>・ワークツリーに反映させる場合には、`git merge`が必要<br>
<br>

#### ○エラー発生時（コンフリクト等）
>・`git fetch`でエラーが発生した場合<br>
>→まだワークツリーまで更新されていない（mergeされていない）為、以下のコマンドで最新のコミットまで戻す（無かったことに）<br>
```
git reset --hard HEAD
```
<br>

### ▼pullとは
```
git pull リモート名　ブランチ名
```

>・`git fetch`と`git pull`の操作をまとめて実行可能<br>
>　（毎回同じ位置、同じサイズにファイルを開く、等）<br>
>・フォルダ/ファイルのコピー・移動、何らかのアプリケーションで開いた時・保存した時に自動生成される<br>
<br>

#### ※実行時の注意点※
>・pullで指定したブランチに関わらず、今いるブランチにpullされる為、必ずブランチを切り替えてからpullする<br>
***
>例) 現在のブランチ:master　<br>
>ローカルのhogeブランチにリモートのhogeブランチを取り込む為、`-git pull origin hoge`を実行<br>
>→**ローカルのmasterブランチにリモートのhogeブランチの内容が取り込まれてしまう**
***
<br>

#### ○エラー発生時（コンフリクト等）
>・`git pull`でエラーが発生した場合<br>
>→`pull = fetch + merge`なので、まずは`merge`を取り消す<br>
```
git merge --abort
```

>→その後、以下のコマンドで最新のコミットまで戻す（無かったことに）<br>
```
git reset --hard HEAD
```
<br>

