# コマンド

## ▼ディレクトリ操作

#### ●ディレクトリの移動 (change directory)
```shell
cd ディレクトリ
cd /home/sato/
```
>「 .」&ensp;&ensp;カレントディレクトリ（現在いるディレクトリ）<br>
>「..」&ensp;&ensp;親ディレクトリ（１つ上の階層のディレクトリ）<br>
>「 ~」&ensp;&ensp;ホームディレクトリ（「/home/ユーザー名」ディレクトリ　、デフォルトでログイン時に開く場所）<br>
>「 /」&ensp;&ensp;ルートディレクトリ（最上位のディレクトリ、書き込み権限はrootのみ）<br>

#### ●カレントディレクトリの表示 (print name of working directory)
```shell
pwd
```
>現在地が分からなくなったら必ず「pwd」で確認する意識をつける

#### ●ディレクトリの中身を表示 (list)
```shell
ls
ls home
ls *.html # 拡張子がhtmlのファイルを一覧表示
ls /bin/z??? # ｚから始まり４文字で終わるファイルを表示
ls -a # 隠しファイルを含めて表示
ls -l # ファイルの詳細を表示
ls -al
ls -F # ファイル種別を表示（「/」ディレクトリ、「@」シンボリックリンク、「*」実行可能ファイル、「記号なし」通常ファイル）
ls -R # 配下のファイルを全て表示(tree はツリー構造で階層が表示される)
```
>・パス名展開を使うと複数のファイルを一度に指定可能<br>
>「 * 」&ensp;&ensp;任意の文字列<br>
>「 ? 」&ensp;&ensp;任意の１文字<br>

#### ●ディレクトリの作成 (make directory)
```shell
mkdir　作成するディレクトリ名　# 文字化けの恐れがあるため、英語名が無難）
mkdir -p test//2022/12　 # 深いディレクトリを一度で作成（[「test」「2022」「12」の３つを一度で作成））
```

#### ●ディレクトリの削除 (remove directory)
```shell
rmdir ディレクトリ名
# 空でないディレクトリ（中にファイルが残っているディレクトリ）だと、エラーになる
rm -r　ディレクトリ名　　　#　中身があっても強制削除
```
<br>

## ▼コマンドの使い方

#### ●コマンドの使い方表示 (help)
```shell
コマンド名 --help
```

#### ●コマンドの使い方表示 (manual)
```shell
man コマンド名
```
<br>

## ▼ファイル操作

#### ●ファイルの中身を表示(concatenate)
```shell
cat　ファイル名
cat -n　ファイル名　# ファイルの中身の行数を表示
cat ファイル名 ファイル名　# 複数のファイルをまとめｔ表示（スペース区切りで指定）
```

#### ●ファイルの中身をスクロール表示(opposite of more）
```shell
less　ファイル名
```
<img width="400" alt="スクリーンショット 2022-12-11 9 45 47" src="https://user-images.githubusercontent.com/81621944/206881182-47cf0ca5-e5fe-4811-8315-c1455a90e67f.png">
<img width="398" alt="スクリーンショット 2022-12-11 9 45 58" src="https://user-images.githubusercontent.com/81621944/206881185-7fdec535-f34f-4d64-88b9-9f6389adc40a.png"><br>

#### ●空ファイルの作成(touch）
```shell
touch　ファイル名
#　存在するファイルを指定した場合は、タイムスタンプを更新する
```

#### ●ファイルの削除(remove）
```shell
rm　ファイル名
rm -r　ディレクトリ名 # ディレクトリの中のディレクトリ/ファイルもまとめて削除される（-rがなければディレクトリの削除は不可）
rm -i ファイル名 #　ファイルの削除前に確認する
#　ゴミ箱に入らないため、実行時は注意
```

#### ●ファイル/ディレクトリの移動、ファイル名/ディレクトリ名の変更(move）
```shell
mv　ファイル名　変更後ファイル名　#　ファイル名の修正（ファイル　＆　ファイルを指定）
mv　ディレクトリ名　変更後ディレクトリ名　#　ディレクトリ名の修正（ディレクトリ　＆　ディレクトリを指定）
mv　ディレクトリ名　移動先ディレクトリ名 #　ディレクトリの移動（引数２にディレクトリを指定)
mv　ファイル名　移動先ディレクトリ名 #　ディレクトリの移動（引数２にディレクトリを指定)
mv　ファイル名　ファイル名　ファイル名　移動先ディレクトリ名 #　複数ファイルのディレクトリの移動（引数２にディレクトリを指定)
#　ディレクトリを指定する場合、単にディレクトリ名を指定するのではなく、「src`/.`」のようにすることで、「指定ディレクトリ直下の」として可能
#　↑指定ディレクトリが存在しなかった場合に、指定した名前で拡張子なしのファイル名に変更されてしまうのを防ぐため
```

#### ●ファイル/ディレクトリのコピー(copy）
```shell
cp　ファイル名　コピー先ファイル名
cp ファイル名　ディレクトリ名　# 指定したディレクトリ内にコピー
cp -r ディレクトリ名　コピー先ディレクトリ名
```

#### ●リンク（ショートカット）作成(link）
&ensp;長いパス名を省略したい時<br>
&ensp;複数バージョンを共存させ、最新を区別したい時<br>
```shell
ln　リンク元ファイル名　リンク名 # オプション指定なしの場合、ハードリンクになる
ln -s リンク元ファイル名 リンク名　# シンボリックリンクの貼り付け
```
<img width="818" alt="スクリーンショット 2022-12-11 11 41 43" src="https://user-images.githubusercontent.com/81621944/206883869-c92214fe-bfbd-47ca-93aa-be707e8d12cf.png"><br>

#### ●ファイル/ディレクトリのコピー(copy）
```shell
cp　ファイル名　コピー先ファイル名
cp ファイル名　ディレクトリ名　# 指定したディレクトリ内にコピー
cp -r ディレクトリ名　コピー先ディレクトリ名
```

#### ●ファイル/ディレクトリの検索(find）
```shell
find 検索開始ディレクトリ　検索条件　アクション
find . -name README.md -print #「.」ディレクトリ配下で「README.md」という名前のファイル/ディレクトリを検索し、「print(出力
）」する
# 検索条件にワイルドカードを使用する場合は、「'*.html'」のように''で囲む
```
<br>

## ▼パーミッション操作

#### ●ファイルやディレクトリのパーミッションの設定（change mode）
```shell
#相対指定
chmod [ugoa] [+-=] [rwx] ファイル名　# 誰の権限をどうするか
chomd u+r　ファイル名
```
| 記号 | 内容 | 記号 | 内容 |
|------|:--------------|-----------|:--------------|
| u（user）    | 所有者の権限         | +          | 権限を追加 |
| g（group）    | グループの権限        | -          |  権限を削除 |
| o(other)    | その他のユーザーの権限  | =          | 記述した権限にする |
| a(all)    | 全ユーザーの権限    |   

```shell
# 絶対指定
chmod 数値　ファイル名

#rwxr-xr-xの場合<bx>
chomd 755 ファイル名
```
| パーミッション | 数値 | 
|------|:--------------|
| r（読み取り）    | 4      |
| w（書き込み）    | 2        |
| x(実行)    | 1  | 
<bx>
→数値に置き換え、足し合わせる<bx>
  
| オーナー | グループ | その他 |
|:-----|:--------------|:-----------|
| rwx    | r-x         | r-x          |　
| 421    | 4 1        |  4 1      |　
| 7    | 5  | 5   | 

#### ●スーパーユーザー（管理者権限をもつrootユーザー）として実行（switch user and do）
```shell
sudo コマンド
sudo mkdir /storage
```

<br>

## ▼プロセス、ジョブ操作

#### ●プロセスの表示（process status）
```shell
ps
# 出力（PID:プロセスID、CMD:実行中のコマンドが表示）
  PID TTY           TIME CMD
17927 ttys000    0:04.59 -zsh
  
ps aux # 「a」全てのユーザーのプロセス、「u」詳細情報も表示、「x」psコマンドを実行したユーザーの全てのプロセス
  #オプションだが、「-」はいらない（つけるものもある）
```

#### ●ジョブの一覧を表示（jobs）
```shell
jobs

#出力
[1]+ 実行中　sleep 10 &
#「ジョブID」「実行状況」「実行コマンド」を　表示
```

#### ●ジョブの状態を変更（foreground、background）
```shell
fg　%ジョブID # ジョブをフォアグラウンドに戻して対話的に操作したい時に使用
bg　%ジョブID # 長い時間がかかる処理をバックグランドで実行することで、コマンドの終了を待たなくて済む
  
※
コマンド　　&　　#コマンド実行時の末尾に「＆」をつけることで、最初からbgとして実行可能
```

#### ●プロセス・ジョブの終了（kill process）
&ensp;フォアグラウンドのジョブは「Ctrl + C」<br>
&ensp;停止中、バックグラウンドのジョブは「killコマンド」<br>
&ensp;※正確には、killコマンドはシグナルを送信するコマンド、デフォルトでは「kill -TERM プロセスID」という形式が省略されている<br>
&ensp;↑　TERM　・・終了を指示するシグナル<br>

```shell
# プロセスの終了
kill　　プロセスID
#　ジョブの終了
kill　　%ジョブID
  
#　強制終了（最終手段なので、本当に困った時のみ使う）
kill -SIGKILL プロセスID
```
