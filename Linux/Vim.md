# Vim

## ▼Vimとは
>・Linuxでテキストファイルを編集するテキストエディタ<br>
>・CUIのため、キー入力ですべての操作が可能<br>
>・`モード`を切り替えながら作業する<br>
<br>

### ●モード
>○ノーマルモード<br>
>>開いた時のモード<br>
>>`esc`で移行する<br>

>○入力モード<br>
>>エディタに入力するモード<br>
>>`i`を入力して移行する<br>

>○コマンドモード<br>
>>vimのコマンドを入力するモード<br>
>>`:`を入力して移行する<br>

>○ビジュアルモード<br>
>>選択モード<br>
>>`v`を入力して移行する<br>

### ●コマンド

#### ○起動
```shell
# 新規ファイル
vim

#　ファイル名を指定
vim text.txt
```

#### ○終了
```shell
# 上書きせずに終了（変更されている場合は閉じない）
:q
ZZ

# ファイルを保存しないでvimを抜ける場合（強制終了）
:q!
ZQ

# ファイルを保存してからvimを抜ける場合
:wq

# 新規ファイルを保存する場合
:w text.txt
```

#### ○移動系
```shell
# 行番号を表示
:set number

#　カーソル移動
[j] #下に移動
[k] #上に移動

[l] #右（後）に移動
[h] #左（前）に移動

# 単語単位の移動
[w] #次の単語の先頭に移動
[b] #前の単語の先頭に移動
[e] #次の単語の末尾に移動

# 行単位の移動
[$] #行の末尾にジャンプ
[^] #行の先頭にジャンプ

# 対応する（カッコ）の移動
[%] 

# 指定した単位、行単位で移動
[5w] #5ワード分、次に移動
[5b] #5ワード分、前に移動
[5j] #5行下に移動
[5k] #5行上に移動
```

#### ○削除・取り消し系
```shell
# 行番号を表示
:set number

#　カーソル位置を元に削除
[x] #カーソル位置の文字を削除する
[X] #カーソル前の文字を削除する
[u] #直前の操作を取り消す

#　指定箇所の削除
[dw] 単語末尾までと空白を削除する
[dd] 行を削除する

#　操作取り消し
[u] #操作の取り消し
[U] #行全体の操作を取り消し
ctrl+r #取り消しの取り消し

#　操作を組み合わせての削除
d2w #単語2つ分を削除
d$ #現在の位置から行末までを削除
```

#### ○編集系
```shell
# コピー・貼り付け
[yw] #単語をコピー
[y2w] #複数の単語をコピー
[yy] #1行コピー

# 貼り付け
[p] #カーソルの後ろに貼り付け
[P] #カーソルの前に貼り付け
[v] #ビジュアルモードでは、範囲選択可能
```


#### ○検索とマーク
> マーク・・・テキストの特定の位置を一時的に記憶する、ブックマークのような機能<br>
```shell
# 1文字検索
[f*] #右方向にある「*」の文字に移動する
[F*] #左方向にある「*」の文字に移動する
[;] #1文字検索を繰り返す
[,] #逆方向に、1文字検索を繰り返す

# テキスト検索
[/(keyword)] #下方向に検索
[?(keyword)] #上方向に検索
[n] #次の候補に移動
[N] #前の候補に戻る

# 検索その他
[*] #カーソル位置の単語を検索する
[/][↑][↑] #上下の矢印キーで、検索履歴を呼び出す
[/][^app]  #正規表現で検索
[/][^\s*message] #正規表現で、先頭からインデントした「message」を検索

# 名前をつけてマーク
[m][a] #現在の行に「a」という名前を付ける
['][a] #「a」マークの行にジャンプする
:marks #マーク一覧を表示する
```

#### ○置換
```shell
# 置換
:%s/before/after/g #before という単語を after という単語に置換する例

# 指定行の間で置換
:10,20s/before/after/g

# 確認しながら置換
:%s/before/after/gc
y #-> yes:置換する
n #-> no:置換しない
a #-> all:すべて置換
q #-> quit:置換を終了する
```

### ●チュートリアル
```shell
# ターミナルで以下を入力するとチュートリアルが始まる（30分程度  ）
vimtutor
```
