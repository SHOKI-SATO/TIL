# リンク

## ▼リンクとは
>・ファイルにつける別名<br>
>・ハードリンク、シンボリックリンクの２つがある<br>
<br>

### ▼リンクの種類
### ●ハードリンク
>・１つの実態に複数の名前をつける機能<br>
>・元のファイルを削除しても消えない<br>
>・全てのハードリンクがなくなった時に削除される<br>
```shell
ln ファイル名 リンク名
```
<br>

#### ●シンボリックリンク
>・リンク先のパス名が書かれた特殊ファイル<br>
>・シンボリックリンクを残したままファイルの実態を削除したり、ファイルの移動をすると、ファイルを参照出来なくなる<br>
```shell
ln -s ファイル名 リンク名
```
<br>

---
### ▼具体例
>①<br>
>例えば<br>
>
>|ファイル名　| 中身|
>|---|---|
>|test.txt　　　|　a=1,b=10|
>
>というファイルがあったとします。<br>
><br>
>
>②<br>
>①のときに、test.txtをtest2.txtとしてコピー、test.txtをhard_linkとしてハードリンクを作成、test.txtをsoft_linkとしてシンボリックリンクを作成したとします。<br>
>
>|ファイル名　| 中身|
>|---|---|
>|test.txt　　　|　a=1,b=10|
>|test2.txt　　|　a=1,b=10|
>|hard_link　　|　a=1,b=10|
>|soft_link　　|　test.txt|
>
>の中身を表示<br>
>※test.txtとhard_linkの実態は同じiノード番号となる<br>
>このときtest.txtとtest2.txtは別ファイルとなります。<br>
><br>
>
>③<br>
>②のときにtest.txtの中身をa=20,b=10に編集したとします。<br>
>そうすると、test.txtとhard_linkの実態は同じiノードとなるため、hard_linkで参照している値も同じように更新されます。<br>
>一方で、test2.txtはコピーして別ファイルとなっているため更新されません。<br>
>
>|ファイル名　| 中身|
>|---|---|
>|test.txt　　　|　a=20,b=10　→更新する|
>|test2.txt　　|　a=1,b=10|
>|hard_link　　|　a=20,b=10　→更新される|
>|soft_link　　|　test.txtの中身を表示|
><br>
>
>④<br>
>同様に、hard_linkの中身をa=20,b=30に編集すると、test.txtも更新されます。<br>
>
>|ファイル名　| 中身|
>|---|---|
>|test.txt　　　|　a=20,b=30　→更新される|
>|test2.txt　　|　a=1,b=10|
>|hard_link　　|　a=20,b=30　→更新する|
>|soft_link　　|　test.txtの中身を表示|
><br>
>
>⑤<br>
>少し応用となりますが、test.txtを削除したとしてもhard_linkは消えません。<br>
>※これがシンボリックリンクの場合は参照先が存在しないエラーとなります。<br>
>
>|ファイル名　| 中身|
>|---|---|
>|test.txt　　　|　ファイルが削除される|
>|hard_link　　|　a=20,b=30　→ハードリンクは実態があるためエラーとならない|
>|soft_link　　|　test.txtの中身を表示　→test.txtが存在しないエラーとなる|
><br>
>
---

### ▼結論
>上記のように、同じファイルをマスターととして管理したい場合はハードリンクやシンボリックリンクを設定。別ファイルとして扱いたい場合はコピーする
>という使い分けを行う形となります。<br>
<br>

### ▼補足
>なお、ハードリンクとシンボリックリンクの大きな違いとしては、ハードリンクは"ディレクトリに対するリンクが作成できない"、"別システムのリンクは作成できない"というところです。<br>
>シンボリックリンクはショートカットの位置づけですので、ディレクトリを指定したり、別システムの参照先を定義することができるので、この辺りで使い分けを行うことができます。<br>
<br>
